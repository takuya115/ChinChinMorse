# ChinChinMorse

## 概要

### 変換方法

1. 入力した文字列を`Uint8Array`に変換
2. Base32(大文字)にエンコード
3. `morse-decoder` でモールス信号に変換

* デコードはその逆を実行
* 一般的なモールス信号の符号(－, ・)を独自の文字列に置き換えている（表示用: Pretty）
  * ・(dot): 'ちんちん'
  * －(dash): 'ちんこ'
  * 区切り: 'ちんぽ'
* 共有やコピーでは、より短いコンパクト表現（.-/）を内部的に使用（UIはPretty表示のまま）
  * ・(dot): '.'
  * －(dash): '-'
  * 区切り: '/'

### その他

* URL末尾にクエリ文字列`morse`が存在する場合、入力欄に自動的にモールス信号（コンパクト表現）が入力される
* この文字列は `lz-string` で圧縮済みのため、事前に解凍して反映する（UI表示はPrettyへ変換可能）

## 表現モード

* Pretty: 画面表示向け。モールスのdot/dash/区切りを「ちんちん/ちんこ/ちんぽ」で表現。
* Compact: 共有・コピー向け。内部的に `.-/` の1文字トークンのみを使用。
* デコードは自動判別: Pretty/Compactのいずれの入力でも原文に復元可能。
* 共有時はCompactを `lz-string` で圧縮し、さらに `encodeURIComponent` 済み文字列を `?morse=` に埋め込む。

## 共有と復元の挙動

* エンコード: 入力 → Pretty/Compactを生成。画面表示はPretty、コピー/共有やツイート本文はCompact。
* 復元: `?morse=` がある場合、圧縮解除→Compactとして解釈→原文に復号→UIに反映。

## 以前との違い（短縮化）

* 旧方式: UTF-8の各バイトを10進数にし、区切り文字'A'を挟んでモールス化。
* 現方式: UTF-8 → Base32(大文字) → モールス化。出力が大幅に短縮されます。

## デモ

<https://takuya115.github.io/ChinChinMorse/dist/index.html>

